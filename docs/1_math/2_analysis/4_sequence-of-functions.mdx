---
title: 4. 関数列と関数項級数
---

## 関数列
:::tip[関数列とその極限]
区間 $I$ 上の関数列 $\{f_n(x)\}_{n=1}^\infty$ を考える。

- 任意の $x \in I$ に対して，$\lim_{n \to \infty} f_n(x) = f(x)$ が成り立つ時，関数列 $\{f_n(x)\}$ は 
$I$ 上で **各点収束する** といい，その極限を $f(x)$ と表す。
    - つまり，$\forall \epsilon > 0, \forall x \in I, \exists N$ で $n > N \Rightarrow |f_n(x) - f(x)| < \epsilon$
    - $f_n(x)$ が $I$ 上で連続であっても，$f(x)$ が連続であるとは限らない
- $\forall \epsilon > 0, \exists N, \forall x \in I$ で $n > N \Rightarrow |f_n(x) - f(x)| < \epsilon$ が成り立つ時，関数列 $\{f_n\}$ は **一様収束する** という
    - つまり，**$N$ が $x$ に依存しない**

また，$f_n(x)$ 一様収束することは以下と同値。
- $\forall \epsilon > 0, \exists N$ で $ n > N \Rightarrow \sup_{x \in I} |f_n(x) - f(x)| < \epsilon$
- $\forall \epsilon > 0, \exists N, \forall x \in I$ で $m,n > N \Rightarrow |f_n(x) - f_m(x)| < \epsilon$

**さらに，$f_n(x)$ が $I$ 上で連続で $\{f_n(x)\}$ が一様収束する時，極限関数 $f(x)$ も $I$ 上で連続である。**
:::


:::tip[関数列の微分・積分]
関数列 $\{f_n(x)\}_{n=1}^\infty$ が閉区間 $[a,b]$ 上で連続で $\{f_n(x)\}$ が $f(x)$ に一様収束する時，以下が成り立つ。
$$
\lim_{n \to \infty} \int_a^x f_n(t) dt = \int_a^x f(t) dt
$$
特に，$F_n(x) = \int_a^x f_n(t) dt$ とすれば，$\{F_n(x)\}$ は $F(x) = \int_a^x f(t) dt$ に一様収束する。

また，関数列 $\{f_n(x)\}_{n=1}^\infty$ が閉区間 $[a,b]$ で微分可能で，
$\{f_n(x)\}$ が $[a,b]$ で $f(x)$ に各点収束し，かつ $f_n'(x)$ が $[a,b]$ 上で連続かつ $\{f_n'(x)\}$ が $g(x)$ に一様収束する時，以下が成り立つ。
$$
\lim_{n \to \infty} f_n'(x) = g(x) = f^{\prime}(x)
$$
つまり，$\{f_n(x)\}$ が微分可能で一様収束であるだけでは不十分。
:::

条件を緩めると，$f_n(x)$ が閉区間 $[a,b]$ 上で微分可能で $f(x)$ に一様収束し，$f_n'(x)$ が閉区間 $[a,b]$ 上で連続で $g(x)$ に一様収束する時，
$f(x)$ は $[a,b]$ 上で微分可能であり，$\lim_{n \to \infty} f_n'(x) = g(x) = f^{\prime}(x)$ が成り立つ。

**つまり，$f_n(x)$ が一様収束するなら積分と極限の入れ替えができ，追加の条件も満たせば微分と極限の入れ替えもできる。**

### 関数項級数
:::tip[関数項級数]
関数列 $\{f_n(x)\}_{n=1}^\infty$ に対して，$\sum_{n=1}^\infty f_n(x)$ を **関数項級数** と呼ぶ。
$\sum_{n=1}^k f_n(x)$ が $\sum_{n=1}^\infty f_n(x)$ に一様収束 $\Leftrightarrow$
$\forall \epsilon > 0, \exists N$ で $n > N \Rightarrow |\sum_{k = 1}^n f_k(x) - \sum_{k = 1}^\infty f_k(x)| < \epsilon$ が成り立つ。

この時，ワイエルストラスの $M$ 判定法が成り立つ。
つまり，$M_k$ を定数として，$|f_k(x)| \leq M_k (\forall x \in I) $ が成り立ち，$\sum_{k=1}^\infty M_k$ が収束する時，
$\sum_{k=1}^\infty f_k(x)$ は$I$ 上で一様収束する。
:::

また，関数列に対する定理を適用することもできる。
:::note[関数項級数に関する定理]
- $\sum_{n=1}^\infty f_n(x)$ が $I$ 上で一様収束する時，$\sum_{n=1}^\infty f_n(x)$ は $I$ 上で連続である
- $\sum_{n=1}^\infty f_n(x)$ が $I$ 上で一様収束する時，$\sum_{n=1}^\infty f_n(x)$ は $I$ 上で積分可能であり，  
$\displaystyle \sum_{n=1}^\infty \int_a^x f_n(t) dt = \int_a^x \sum_{n=1}^\infty f_n(t) dt$ が成り立つ
- $\sum_{n=1}^\infty f_n(x)$ が閉区間 $[a,b]$ 上で微分可能で $\sum_{k=1}^n f_k(x)$ が $\sum_{k=1}^\infty f_k(x)$ に各点収束し，
かつ $f_n'(x)$ が $[a,b]$ 上で連続かつ $\sum_{k=1}^n a_k'(x)$ が一様収束する時，
$\sum_{n=1}^\infty f_n(x)$ は $[a,b]$ 上で微分可能であり，
$\lim_{n \to \infty} \sum_{k=1}^n f_k'(x) = \frac{d}{dx}\left(\sum_{k=1}^\infty f_k(x)\right)$ が成り立つ
:::

**つまり，$|f_k(x)| \leq a_k (\forall x \in I) $ と級数が収束する $\{a_k\}$ で抑えられれば項別積分ができる。
さらに，追加の条件を満たせば項別微分もできる。**

---
なお，微分と積分の入れ替えは，ルベーグ積分論における優収束定理より $f(x,t): \mathbb{R}\times I \to \mathbb{R}$ について以下が成り立てば，
$$
\frac{d}{dx}\int_I f(x,t) dt = \int_I \frac{\partial}{\partial x}f(x,t) dt
$$
が成り立つ。
1. 全ての $x \in \mathbb{R}$ で $t \mapsto f(x,t)$ が $I$ 上で可積分
2. ほとんど全ての $t \in I$ で $x \mapsto f(x,t)$ が微分可能
3. ある可積分関数 $g(t)$ が存在して，$|\frac{\partial}{\partial x}f(x,t)| \leq g(t)$ がほとんど全ての $t \in I$ で成り立つ