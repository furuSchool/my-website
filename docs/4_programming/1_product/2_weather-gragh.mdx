---
title: 気象データ可視化サイト
---

import ReactPlayer from 'react-player';

:::tip[リンク]
https://capstone-project-a-fjk.onrender.com/
:::

## 概要
大学の実験（演習）として、3人で開発した気象データ可視化サイトになります。  
特に私が行ったのは、以下の部分です。
> - 気象データの収集、整理（from 気象庁）
> - 気象に関する知識共有
> - 各種グラフの作成（データ $\rightarrow$ グラフ）：折れ線グラフ、ヒートマップ、散布図、積み上げグラフ


気象データはたくさんあり、様々な方法が取られている一方で、長期スパンでみた地域ごとの傾向や年ごとのデータ可視化は不足気味です。
- 例えば、東京の気候などで調べればグラフなどは出てくるが、一覧性や都市の網羅性が乏しい
- 任意の複数の年や都市での比較が難しい
- 複数のサイトを行き来しないと様々な情報を得ることが難しい

そこで、日本の気象データについて、
- 都市、期間、気象要素について網羅性がある
- 目的の情報を一目で得ることができる
- 様々な角度から気象情報を見ることができる

を満たすようなサイトを作成しました。また、このようなサイトは学習目的や興味を深める上でも有用であると考えられます。

## 利用方法
<ReactPlayer url="https://youtu.be/2VlHqB5QTEQ" controls />

### 利用例
- 折れ線グラフのアニメーションやヒートマップで年ごとの気温を見ると、やはり地球温暖化によって年々気温が上がってきていることを視覚的に実感することができる
- 降水量や風速については過去70年間で目に見えるような変化はないことが読み取れ、近年の異常気象による変化は予想に反して小さいことが分かる
- 意図していなかったが、可視化を行うことで、観測方法が変わったのではないか？と思われる時期を発見できる
- 積み上げグラフで、10分間/1時間最大降水量/1day や最大瞬間風速の積み上げを行え、
一見無意味に思えるが、集中豪雨や暴風の発生の多さの指標として用いることができるのではないかと考えられる
- 月ごとの日照時間や湿度などの気象要素の変化、それぞれの関係など様々な情報を直感的に理解することができる。
例えば、神戸の最小湿度のヒートマップをみると、冬よりも春の方が湿度が小さい傾向にあり、冬と夏〜秋ではあまり差がない。
一方で、東京だと、そのような傾向はあまり見られず、冬〜春にかけて同程度の神戸よりも低い湿度となっており、
冬において湿度が下がらない気候要因が予想される
- 折れ線グラフで、東京などの多くの都市では、1・2月、7・8月で、気温の最頻値の大きさにはあまり違いはないが、
ばらつきには違いがある（1月、8月のほうがそれぞればらつきが小さい）ことがわかった
- 日照時間について、例えば東京では、平均的に7・8月よりも4・5月の方が長く、6月は夏至に近いものの梅雨であるために日照時間が短いことが多いことがわかり、意外性がある。
さらに、大阪などではその傾向が顕著であった

:::tip[まとめ]
このように、網羅性に優れているため、グラフの種類に応じて無限大の知識や学びを得ることができ、
特に気象に関する知識を持てば持つほど様々な知見が得られるのが大きな特徴である。
:::

## 実装方法
D3.js を用いて、ほぼ JavaScript で実装しています。
データは、[気象庁のデータベース](https://www.data.jma.go.jp/stats/etrn/) から、Python でスクレイピングして取得しました。

- [スクロールバー作成にあたって参考にしたコード](https://observablehq.com/@mbostock/scrubber)
- [折れ線グラフ作成にあたって参考にしたコード](https://observablehq.com/@d3/multi-line-chart/2)
- [円グラフ作成にあたって参考にしたコード](https://observablehq.com/@d3/radial-stacked-bar-chart/2)
- [グラフデザインの参考にした YouTube 動画](https://youtu.be/tAKl-eSNeN4)


## 今後の展望
今後実装したい機能などをまとめています。
- データの追加：都市（特に日本以外）、気象要素など
- 地図をベースにした可視化：地図上に等高線と色分けにより、地域ごとの気象データを可視化
- 円グラフの機能の追加：途中まで実装したが、機能が不十分
- グラフを表示する際のパフォーマンス向上