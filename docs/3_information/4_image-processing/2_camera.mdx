---
title: 2. ディジタルカメラ
---
:::warning[目標]
三次元空間の光学情報を二次元データに変換する手法を知る。  
すなわち，ディジタルカメラの基本的な仕組みを知る！
:::
雑な整理です

---

## 基本
:::tip[基本]
撮影レンズにより対象からの光を撮像素子に集光した後，撮像素子から信号を取り出し，ディジタルデータを作成する。
:::
- レンズ：対象からの光を集光する
- 絞り：レンズの開口を調整し，撮像素子に届く光量を調整する
- シャッタ：撮像素子に届く光の時間を調整する
- 撮像素子：光を電気信号に変換する
- A/D変換器：電圧信号をディジタルデータに変換する
- メモリ：ディジタルデータを保存する
- 液晶モニタ：ディジタルデータを表示する
- その他：システム制御用のCPUや各種回路

---

## 撮像素子
:::tip[撮像素子]
光を電気信号に変換する半導体センサ。主にCCDセンサとCMOSセンサの二種類がある。今はCMOSセンサが主流。
:::
- アナログなら，フィルム([wiki](https://ja.wikipedia.org/wiki/%E5%86%99%E7%9C%9F%E3%83%95%E3%82%A3%E3%83%AB%E3%83%A0))に対応する部分
- カラー画像の撮影
    - 単板式：一つの画素に赤・緑・青のいずれかの色フィルタを配置し，画素の色情報を補完して画像を生成（デモザイキング）
        - ベイヤー配列([wiki](https://ja.wikipedia.org/wiki/%E3%83%99%E3%82%A4%E3%83%A4%E3%83%BC%E3%83%95%E3%82%A3%E3%83%AB%E3%82%BF%E3%83%BC))などを採用
    - 3板式：画素ごとに赤・緑・青の色フィルタを配置して，合成してカラー画像を生成
        - 入射光をダイクロイックミラーで分光し，それぞれの色に対応する撮像素子に導く
        - 業務用カメラなどで使われる

---
## レンズ
薄肉レンズ：$\frac{1}{a} + \frac{1}{b} = \frac{1}{f}$（ $a$：対象からレンズまでの距離，$b$：レンズから焦点までの距離，$f$：焦点距離）
- 焦点の位置に撮像素子を配置する

厚肉レンズ：レンズが複数枚ある場合など。前主点と後主点がある。光学収差の吸収や強度向上のために使われる。
- 光学収差：レンズが理想的でないことなどにより生じる，理想の像点からのずれ
- 焦点距離「長」 $\rightarrow$ 遠くを撮れる，焦点距離「短」 $\rightarrow$ 広くを撮れる

### 被写界深度
撮像素子上の許容錯乱円の範囲（一画素の大きさに対応）に収まる被写体位置の範囲
- 前側被写界深度 < 後側被写界深度
- 焦点距離 $f$「短」 $\rightarrow$ 被写界深度「深」
- 絞り値「大」 $\rightarrow$ 被写界深度「深」
- 被写体距離 $a$「遠」 $\rightarrow$ 被写界深度「深」

### F 値
レンズの明るさを表す指標。$F = \frac{f}{d}$（$f$：焦点距離，$d$：絞りの直径，絞り値）
- 絞り値「大」 $\rightarrow$ F 値「小」= 明るい
- レンズを通る光量は，$\frac{1}{F^2}$ に比例する

### シェーディング補正
レンズの周辺部分が暗くなるため，周辺部分の明るさを補正する
- レンズを通る光量は，被写体との角度 $\alpha$ として $\cos^4 \alpha$ に比例する

---
## ディジタルカメラの機能

#### AF（オートフォーカス）：レンズのピントを自動的に合わせる機能。
- ピント：被写体の位置に光源があると仮定した際，そこからの光が撮像素子面で 1 点に集まるようにレンズを調整すること
- コントラストAF：画像のコントラストを利用して合焦する
- 位相差AF：レンズの前後に AF 専用センサを配置し，結像位置のずれからピントを合わせる
- 参考になる記事：[「コントラスト」「位相差」2つのAFを理解する](https://www.itmedia.co.jp/dc/articles/1009/14/news026.html)

#### AE（オートエクスポージャ）：自動露光。シャッタースピードや絞りを自動で設定する機能。

#### AGC（オートゲインコントロール）：自動増幅制御。撮像素子の感度を自動で調整する機能。

#### AWB（オートホワイトバランス）：自動ホワイトバランス。撮影環境に応じて色温度を自動で調整する機能。
- 異なる環境下でも同じ色が同じように見えるようにすること
- 色温度：光源色を表す指標。黒体輻射の温度で，単位はケルビン（K）。
    - 光源は同じ白色光でも，周波数軸のエネルギー分布が異なる
    - 照明 > カメラ：青っぽい，照明 < カメラ：赤っぽい

#### AS（オートスタビライゼーション）：手ブレ補正。加速度/角速度センサで揺れを検出する。
